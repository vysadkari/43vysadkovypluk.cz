on:
  push:
    branches:
      - test

name: âœˆï¸ CviÄnÃ© vysazenÃ­

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: â¬‡ï¸ StaÅ¾enÃ­ aktuÃ¡lnÃ­ho kÃ³du
        uses: actions/checkout@v3

      - name: ğŸ›« Instalace zÃ¡vislostÃ­
        run: yarn install

      - name: âš™ï¸ VytvoÅ™enÃ­ .env souboru
        run: cp .env.example .env

      - name: ğŸ“¦ SestavenÃ­ aplikace
        run: yarn build

      - name: ğŸª‚ NahrÃ¡nÃ­ souborÅ¯ na FTP
        uses: SamKirkland/FTP-Deploy-Action@v4.3.4
        with:
          server: ${{ secrets.FTP_HOST}}
          username: ${{ secrets.FTP_USERNAME}}
          password: ${{ secrets.FTP_PASSWORD}}
          port: ${{ secrets.FTP_PORT}}
          server-dir: test/public/
          local-dir: dist/
          state-name: ../.ftp-deploy-sync-state.json

      - name: ğŸ›¬ Konec mise
        run: echo "Bez zÃ¡vad"
